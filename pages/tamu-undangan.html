<!--

=========================================================
* Neumorphism UI - v1.0.0
=========================================================

* Product Page: https://themesberg.com/product/ui-kits/neumorphism-ui
* Copyright 2020 Themesberg MIT LICENSE (https://www.themesberg.com/licensing#mit)

* Coded by https://themesberg.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

-->
<!DOCTYPE html>
<html lang="id">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
  <!-- Primary Meta Tags -->
  <title>
   Generator Tamu Undangan
  </title>
  <meta content="Generator Tamu Undangan" name="title"/>
  <meta content="Temukan katalog produk undangan digital Dekeku dengan desain elegan, interaktif, dan personal untuk momen istimewa Anda." name="description"/>
  <!-- SEO Keywords -->
  <meta content="undangan digital, undangan online, digital invitation, wedding invitation online, e-invitation, undangan digital pernikahan, undangan pernikahan online, wedding invitation digital murah, undangan digital elegan untuk pernikahan, undangan pernikahan online interaktif, template undangan pernikahan digital, undangan ulang tahun digital, undangan ulang tahun online gratis, birthday invitation online, undangan digital ulang tahun anak, desain undangan ulang tahun digital, undangan khitan digital, undangan aqiqah online, undangan tasyakuran digital, contoh undangan digital khitan interaktif, undangan seminar digital, undangan reuni online, undangan rapat digital, undangan acara resmi online, undangan pengajian digital, undangan syukuran digital, undangan digital ramah lingkungan, undangan digital modern, undangan digital interaktif, undangan digital hemat biaya, jasa pembuatan undangan digital, website undangan digital, cara membuat undangan digital pernikahan, jasa undangan digital murah dan elegan, undangan digital bisa RSVP online, undangan digital dengan musik &amp; galeri foto, katalog undangan digital berbagai acara, contoh undangan digital elegan untuk pernikahan, undangan digital online dengan tema custom" name="keywords"/>
  <!-- Author -->
  <meta content="Dekeku" name="author"/>
  <!-- Canonical -->
  <link href="https://undangan.dekeku.my.id" rel="canonical"/>
  <!-- Open Graph / Facebook -->
  <meta content="website" property="og:type"/>
  <meta content="https://undangan.dekeku.my.id" property="og:url"/>
  <meta content="Generator Tamu Undangan" property="og:title"/>
  <meta content="Temukan katalog produk undangan digital Dekeku dengan desain elegan, interaktif, dan personal untuk momen istimewa Anda." property="og:description"/>
  <meta content="https://ik.imagekit.io/mustofa/web/img/preview-generator-tamu-undangan.webp" property="og:image"/>
  <!-- Twitter -->
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="https://undangan.dekeku.my.id" name="twitter:url"/>
  <meta content="Generator Tamu Undangan" name="twitter:title"/>
  <meta content="Temukan katalog produk undangan digital Dekeku dengan desain elegan, interaktif, dan personal untuk momen istimewa Anda." name="twitter:description"/>
  <meta content="https://ik.imagekit.io/mustofa/web/img/preview-generator-tamu-undangan.webp" name="twitter:image"/>
  <!-- Schema.org for Google -->
  <meta content="Generator Tamu Undangan" itemprop="name"/>
  <meta content="Temukan katalog produk undangan digital Dekeku dengan desain elegan, interaktif, dan personal untuk momen istimewa Anda." itemprop="description"/>
  <meta content="https://ik.imagekit.io/mustofa/web/img/preview-generator-tamu-undangan.webp" itemprop="image"/>
  <!-- Favicon -->
  <link href="https://ik.imagekit.io/mustofa/web/dekeku/dekeku-logo-dark-195.png" rel="apple-touch-icon" sizes="120x120"/>
  <link href="https://ik.imagekit.io/mustofa/web/dekeku/dekeku-logo-dark-32.png" rel="icon" sizes="32x32" type="image/png"/>
  <link color="#ffffff" href="https://ik.imagekit.io/mustofa/web/dekeku/safari-pinned-tab.svg" rel="mask-icon"/>
  <meta content="#ffffff" name="msapplication-TileColor"/>
  <meta content="#ffffff" name="theme-color"/>
  <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha512-SUwyLkI1Wgm4aEZkDkwwigXaOI2HFLy1/YW73asun4sfvlkB9Ecl99+PHfCnfWD0FJjIuFTvWMM7BZPXCckpAA==" referrerpolicy="no-referrer" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/gh/wahyuajismustofa/dekeku@20b911db4ba561a6b2798483c958df43ac9e2b75/assets/css/tema.css" rel="stylesheet" type="text/css"/>
 </head>
 <body>
  <div class="position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center" id="loadingScreen" style="background-color: rgb(230, 231, 238); z-index: 1050; transition: opacity 0.3s;">
   <div class="spinner-border" role="status" style="width: 4rem; height: 4rem; color: #44476A;">
   </div>
  </div>
  <div id="globalHeader">
  </div>
  <main>
   <section class="section section-lg pt-7">
    <div class="container">
     <div class="row align-items-center justify-content-center">
      <div class="col-md-12 col-lg-12 mb-5">
       <div class="card bg-primary shadow-soft border-light p-2 p-md-3 p-lg-5">
        <div class="card-header">
         <div class="row justify-content-center">
          <div class="col-12 col-md-8 text-center mb-5">
           <h1 class="display-2 mb-3">
            Tamu Undangan
           </h1>
           <p class="lead">
            Formulir untuk membuat daftar tamu undangan
           </p>
          </div>
         </div>
        </div>
        <form class="col-12 col-md-8 mx-auto" data-aksi="localStorage" data-dekeku_proxy="renderDataTamu" data-nama="tamuUndangan" data-scema='{"acara":"string","nama":"array","pengundang":"string","link":"string"}' id="formTamuUndangan">
         <div class="form-group mb-4 focused">
          <label for="acara-1">
           Acara
          </label>
          <div class="input-group">
           <div class="input-group-prepend">
            <span class="input-group-text">
             <span class="fas fa-th-list">
             </span>
            </span>
           </div>
           <select class="form-control" id="acara-1" name="acara">
            <option selected="" value="pernikahan">
             Pernikahan
            </option>
            <option value="khitanan">
             Khitanan
            </option>
           </select>
          </div>
         </div>
         <div class="form-group mb-4">
          <label for="nama-1">
           Nama Tamu
          </label>
          <div class="input-group">
           <div class="input-group-prepend">
            <span class="input-group-text">
             <span class="fas fa-user">
             </span>
            </span>
           </div>
           <input class="form-control" id="nama-1" name="nama" placeholder="Masukkan nama tamu" type="text"/>
          </div>
         </div>
         <div class="form-group mb-4">
          <label for="pengundang-1">
           Nama Pengundang
          </label>
          <div class="input-group">
           <div class="input-group-prepend">
            <span class="input-group-text">
             <span class="fas fa-user-tie">
             </span>
            </span>
           </div>
           <input class="form-control" id="pengundang-1" name="pengundang" placeholder="Masukkan nama pengundang" type="text"/>
          </div>
         </div>
         <div class="form-group mb-4">
          <label for="link-1">
           Link Undangan
          </label>
          <div class="input-group">
           <div class="input-group-prepend">
            <span class="input-group-text">
             <span class="fas fa-link">
             </span>
            </span>
           </div>
           <input class="form-control" id="link-1" name="link" placeholder="Masukkan link undangan" type="text"/>
          </div>
         </div>
         <div class="text-center">
          <button class="btn btn-primary mt-3" type="submit">
           <i class="fas fa-paper-plane mr-2">
           </i>
           Buat Undangan
          </button>
         </div>
        </form>
       </div>
      </div>
      <div class="col-lg-12">
       <div class="mb-4">
        <div id="tabelTamu">
        </div>
       </div>
      </div>
     </div>
    </div>
   </section>
  </main>
  <div id="globalFooter">
  </div>
  <script type="module">
   import dekeku, { init, initSeller} from "/assets/js/main.js";
    import { template, loadScript, createTable } from "/assets/js/dom/template.js";
    import formTemplate from '/assets/js/dom/form-template.js';

    function renderPage(sections) {
    for (const [id, html] of Object.entries(sections)) {
        const el = document.getElementById(id);
        if (el) {
        el.outerHTML = html;
        }
    }
    }

    renderPage({
    globalHeader: template.globalHeader(),
    globalFooter: template.globalFooter()   
    });

    loadScript([
    "jquery",
    "popper",
    "bootstrap",
    "headroom",
    "onscreen",
    "nouislider",
    "datepicker",
    "waypoints",
    "jarallax",
    "counterup",
    "countdown",
    "smoothscroll",
    "prism",
    "githubButtons",
    "tema",
    "produk"
    ]);
    document.addEventListener('DOMContentLoaded', async () => {
        dekeku.prosesJs = dekeku.prosesJs || 0;
        dekeku.prosesJs += 1;
        await init();
        await initSeller({id: dekeku.params.sellerId});
        dekeku.prosesJs -= 1;
        dekeku.proxy.saveDekeku.value = true;
        dekeku.proxy.renderDataTamu = dekeku.function.makeFlagProxy(renderDataTamu);
        renderDataTamu();
    });
function renderDataTamu() {
    if (!localStorage.tamuUndangan)return;
    let dataTamu = JSON.parse(localStorage.tamuUndangan);
    const container = document.querySelector("#tabelTamu");
    dataTamu = dataTamu.map((tamu, index) => ({
    ...tamu,
    id: index + 1,
    link: `${tamu.link}?to=${encodeURIComponent(tamu.nama).replace(/%20/g, "+")}`,
    }));
    const tableColumns = [
    { id: "nama", label: "Nama Tamu", type: "text", value: "nama" },
    { 
        id: "kirim", 
        label: "Kirim", 
        type: "button", 
        attr: '{"event_click":"button-whatsapp-undangan","nama": "nama", "link": "link", "pengundang": "pengundang", "acara": "acara"}', 
        value: "Kirim"
    }
    ];

    createTable(container, tableColumns, dataTamu);
}
  </script>
 </body>
</html>
